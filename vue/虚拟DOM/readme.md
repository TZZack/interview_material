# virtual-dom

## 概念

`由来`：由于在浏览器中操作DOM是很昂贵的，频繁地操作DOM，会产生一定的性能问题，然后就有了`virtual-dom`

`原理`：Vue2的virtual-dom是借鉴了开源库snabbdom的实现，本质就是用一个原生的JS对象去描述一个Dom节点，对真实DOM的一层抽象

## 优点

* `保证性能下限`：框架的vd需要适配任何上层API可能产生的操作，它的一些dom操作的实现必须是普适的，所以它的性能并不是最优；但是比起粗暴的DOM操作性能要好很多，因此框架的vd至少可以保证在不需要手动优化的情况下，依然可以提供还不错的性能，即保证了性能的下限
* `无需手动操作DOM`：我们不再需要手动去操作DOM，只需要写好view-model的代码逻辑，框架会根据vd和数据双向绑定，帮我们以可预期的方式更新视图，几大提高我们的开发效率
* `跨平台`：vd本质上是js对象，而dom与平台强相关，相比之下vd可以进行更方便的跨平台操作，例如服务器渲染、weex开发等

## 缺点

* `无法进行极致优化`：虽然vd+合理的优化，足以应对绝大部分应用的性能需求，但在一些性能要求极高的应用中vd无法进行针对性的极致优化
* 首次渲染大量dom时，由于多了一层vd的计算，会比innerHTML插入慢